{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, Transition as _Transition, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-43ae2d48\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"modal\"\n};\nconst _hoisted_2 = {\n  class: \"modal-inner\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"NFT transfer\", -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = {\n  class: \"modal-content\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"connected wallet\", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache) {\n  const _component_custom_form = _resolveComponent(\"custom-form\");\n\n  return _openBlock(), _createBlock(_Transition, {\n    name: \"modal-animation\"\n  }, {\n    default: _withCtx(() => [_withDirectives(_createElementVNode(\"div\", _hoisted_1, [_createVNode(_Transition, {\n      name: \"model-animation-inner\"\n    }, {\n      default: _withCtx(() => [_withDirectives(_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"i\", {\n        onClick: _cache[0] || (_cache[0] = (...args) => _ctx.close && _ctx.close(...args)),\n        class: \"fa-regular fa-circle-xmark\"\n      }), _createCommentVNode(\" Modal Content \"), _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"div\", null, [_hoisted_5, _createTextVNode(\": \" + _toDisplayString(_ctx.$store.state.addresses), 1\n      /* TEXT */\n      )], 512\n      /* NEED_PATCH */\n      ), [[_vShow, _ctx.$store.state.klaytn !== undefined]]), _createVNode(_component_custom_form, {\n        contractId: _ctx.contractId,\n        \"onUpdate:contractId\": _cache[1] || (_cache[1] = $event => _ctx.contractId = $event),\n        tokenId: _ctx.tokenId,\n        \"onUpdate:tokenId\": _cache[2] || (_cache[2] = $event => _ctx.tokenId = $event),\n        toAddress: _ctx.toAddress,\n        \"onUpdate:toAddress\": _cache[3] || (_cache[3] = $event => _ctx.toAddress = $event)\n      }, null, 8\n      /* PROPS */\n      , [\"contractId\", \"tokenId\", \"toAddress\"])]), _createElementVNode(\"button\", {\n        onClick: _cache[4] || (_cache[4] = (...args) => _ctx.close && _ctx.close(...args)),\n        type: \"button\"\n      }, \"Close\"), _createElementVNode(\"button\", {\n        onClick: _cache[5] || (_cache[5] = (...args) => _ctx.sendTx && _ctx.sendTx(...args)),\n        type: \"button\"\n      }, \"Send\")], 512\n      /* NEED_PATCH */\n      ), [[_vShow, _ctx.modalActive]])]),\n      _: 1\n      /* STABLE */\n\n    })], 512\n    /* NEED_PATCH */\n    ), [[_vShow, _ctx.modalActive]])]),\n    _: 1\n    /* STABLE */\n\n  });\n}","map":{"version":3,"mappings":";;;;;AAE8BA,OAAK,EAAC;;;AAEFA,OAAK,EAAC;;;gEAG9BC,oBAAqB,IAArB,EAAqB,IAArB,EAAI,cAAJ,EAAgB;AAAA;AAAhB;;;AACKD,OAAK,EAAC;;;gEAEPC,oBAAuB,GAAvB,EAAuB,IAAvB,EAAG,kBAAH,EAAmB;AAAA;AAAnB;;;;;uBATZC,aAsBaC,WAtBb,EAsBa;AAtBDC,QAAI,EAAC;AAsBJ,GAtBb,EAAkC;sBAChC,MAoBM,iBApBNH,oBAoBM,KApBN,cAoBM,CAnBJI,aAkBaF,WAlBb,EAkBa;AAlBDC,UAAI,EAAC;AAkBJ,KAlBb,EAAwC;wBACtC,MAgBM,iBAhBNH,oBAgBM,KAhBN,cAgBM,CAfJA,oBAAyD,GAAzD,EAAyD;AAArDK,eAAK,yCAAEC,iCAAF,CAAgD;AAAvCP,aAAK,EAAC;AAAiC,OAAzD,CAeI,EAdJQ,sCAcI,EAbJC,UAaI,EAZJR,oBASM,KATN,cASM,iBARJA,oBAEM,KAFN,EAEM,IAFN,EAEM,CADJS,UACI,mBADmB,OAAEC,iBAAGJ,YAAOK,KAAP,CAAaC,SAAhB,GAAyB;AAAA;OAC9C,CAFN;;AAAA,mBAAaN,YAAOK,KAAP,CAAaE,MAAb,KAAwBC,YAQjC,EALJV,aAIEW,sBAJF,EAIE;AAHQC,kBAAU,EAAEV,eAGpB;mEAHoBA,kBAAUW,OAG9B;AAFQC,eAAO,EAAEZ,YAEjB;gEAFiBA,eAAOW,OAExB;AADQE,iBAAS,EAAEb,cACnB;kEADmBA,iBAASW;AAC5B,OAJF;;AAAA,+CAKI,CATN,CAYI,EAFJjB,oBAAmD,QAAnD,EAAmD;AAA1CK,eAAK,yCAAEC,iCAAF,CAAqC;AAA5Bc,YAAI,EAAC;AAAuB,OAAnD,EAAqC,OAArC,CAEI,EADJpB,oBAAmD,QAAnD,EAAmD;AAA1CK,eAAK,yCAAEC,mCAAF,CAAqC;AAA3Bc,YAAI,EAAC;AAAsB,OAAnD,EAAsC,MAAtC,CACI,CAhBN;;AAAA,mBAAad,mBAgBP,EAjBgC;;;;AAAA,KAAxC,CAmBI,CApBN;;AAAA,iBAAaA,mBAoBP,EArB0B;;;;AAAA,GAAlC","names":["class","_createElementVNode","_createBlock","_Transition","name","_createVNode","onClick","_ctx","_createCommentVNode","_hoisted_3","_hoisted_5","_toDisplayString","state","addresses","klaytn","undefined","_component_custom_form","contractId","$event","tokenId","toAddress","type"],"sourceRoot":"","sources":["/home/lorancecall/Projects/vuejs-tutorial/klaytn-nft-transfer/src/components/ModalComp.vue"],"sourcesContent":["<template>\n  <transition name=\"modal-animation\">\n    <div v-show=\"modalActive\" class=\"modal\">\n      <transition name=\"model-animation-inner\">\n        <div v-show=\"modalActive\" class=\"modal-inner\">\n          <i @click=\"close\" class=\"fa-regular fa-circle-xmark\"></i>\n          <!-- Modal Content -->\n          <h1>NFT transfer</h1>\n          <div class=\"modal-content\">\n            <div v-show=\"$store.state.klaytn !== undefined\">\n              <b>connected wallet</b>: {{ $store.state.addresses }}\n            </div>\n            <custom-form\n              v-model:contractId=\"contractId\"\n              v-model:tokenId=\"tokenId\"\n              v-model:toAddress=\"toAddress\"\n            />\n          </div>\n          <button @click=\"close\" type=\"button\">Close</button>\n          <button @click=\"sendTx\" type=\"button\">Send</button>\n        </div>\n      </transition>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport CustomForm from \"@/components/CustomForm.vue\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  components: {\n    CustomForm,\n  },\n  props: {\n    modalActive: Boolean,\n  },\n\n  setup(props, { emit }) {\n    // data\n    const contractId = ref(\"\");\n    const tokenId = ref(\"\");\n    const toAddress = ref(\"\");\n    const store = useStore();\n\n    const close = () => {\n      emit(\"close\");\n    };\n    const sendTx = async () => {\n      const klay = new store.state.caver.rpc.klay();\n      const inputData = caver.abi.encodeFunctionCall(\n        {\n          constant: false,\n          inputs: [\n            { name: \"from\", type: \"address\" },\n            { name: \"to\", type: \"address\" },\n            { name: \"tokenId\", type: \"uint256\" },\n          ],\n          name: \"transferFrom\",\n          outputs: [],\n          payable: false,\n          stateMutability: \"nonpayable\",\n          type: \"function\",\n        },\n      )\n      const receipt = await klay.sendTransaction({\n        type: \"SMART_CONTRACT_EXECUTION\",\n        from: store.state.addresses[0],\n        gas: 3000000,\n        gasPrice: klay.getGasPrice(),\n        to: contractId,\n        data: \n      });\n      return receipt;\n    };\n\n    return { contractId, tokenId, toAddress, close, sendTx };\n  },\n};\n</script>\n\n<style lang='scss' scoped>\n.modal-animation-enter-active,\n.modal-animation-leave-active {\n  transition: opacity 0.3s cubic-bezier(0.52, 0.02, 0.19, 1.02);\n}\n\n.modal-animation-enter-from,\n.modal-animation-leave-to {\n  opacity: 0;\n}\n\n.modal-animation-inner-enter-active {\n  transition: opacity 0.3s cubic-bezier(0.52, 0.02, 0.19, 1.02) 0.15s;\n}\n\n.modal-animation-inner-leave-active {\n  transition: opacity 0.3s cubic-bezier(0.52, 0.02, 0.19, 1.02) 0.15s;\n}\n\n.modal-animation-inner-enter-from {\n  opacity: 0;\n  transform: scale(0.8);\n}\n\n.modal-animation-inner-leave-to {\n  transform: scale(0.8);\n}\n\n.modal {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100vw;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: rgba($color: #ffffff, $alpha: 0.7);\n\n  .modal-inner {\n    position: relative;\n    max-width: 640px;\n    width: 80%;\n    box-shadow: 0 4px 6px -1px rgba($color: #000000, $alpha: 0.1),\n      0 2px 4px -1px rgba($color: #000000, $alpha: 0.06);\n    background-color: #fff;\n    padding: 64px 16px;\n\n    i {\n      position: absolute;\n      top: 15px;\n      right: 15px;\n      font-size: 20px;\n      cursor: pointer;\n\n      &:hover {\n        color: crimson;\n      }\n    }\n\n    button {\n      padding: 20px 30px;\n      margin-left: 5px;\n      margin-right: 5px;\n      border: none;\n      font-size: 16px;\n      background-color: crimson;\n      color: #fff;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}